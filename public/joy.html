<html>
<head>
<link href="stylesheets/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="stylesheets/style.css" rel="stylesheet" media="screen">
<link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
<title>Joystick</title>

</head>
<body>
<div id="joy1">
<div class="row text-center">
<div id="container"></div>
<div id="info">

		<script src='javascripts/VirtualJoystick.js'></script>
		<script>
			var joystick	= new VirtualJoystick({
				container	: document.getElementById('container'),
				mouseSupport	: true,
			});
			joystick.addEventListener('touchStart', function(){
				console.log('down')
			})
			joystick.addEventListener('touchEnd', function(){
				console.log('up')
			})

			setInterval(function(){
				var obj = {type:"touch", x: joystick.deltaX(), y: joystick.deltaY() };

				$.ajax({
					type: "POST",
					url: "http://167.114.242.19/api",
					//headers: { "Content-Type": "application/json"},
					data: obj,
					dataType: "json",
					success: function() {},
					error: function() {}
				});

					var outputEl	= document.getElementById('result');
					outputEl.innerHTML	=
						 ' beta: '+joystick.deltaY() + '<br/>'
						+ 'gamma: ' +joystick.deltaX() + '\n'
			}, 1/5 * 1000);

		</script>

		</div>
		<div id="result"></div>
</div>
</div>

<div id="joy2">
<div class="container">
	<div class="row text-center">
</div>
		<div class="col-sm-4">
		<input type="button"  id="button" value="L" onclick="LButton()">

			</div>
		<div class="col-sm-4">
		<input type="button"  id="button" value="Double L" onclick="DoubleLButton()">

		</div>
		<div class="col-sm-4">
		<input type="button"  id="button" value="R" onclick="RButton()">

			<script>
			function LButton() {
				var data = { type: "btn", btn: "left" };
				$.ajax({
				  type: "GET",
				  url: "http://167.114.242.19/api",
				  data: data,
				 // success: success,
				  dataType: "json"

				});
}
function DoubleLButton() {
				var data = { type: "btn", btn: "doubleLeft" };
$.ajax({
				  type: "POST",
				  url: "http://167.114.242.19/api",
				  data: data,
				 // success: success,
				  dataType: "json"

				});

}
function RButton() {
				var data = { type: "btn", btn: "right" };

	$.ajax({
				  type: "POST",
				  url: "http://167.114.242.19/data",
				  data: data,
				 // success: success,
				  dataType: "json"

				});
}
			</script>
		</div>
	</div>
</div>

<script src="javascripts/jquery-2.0.3.min.js" ></script>
<script src="javascripts/bootstrap.min.js"></script>
<script src="javascripts/script.js"></script>
</body>
</html>
